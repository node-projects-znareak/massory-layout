(()=>{"use strict";(()=>{const t=new WeakMap;window.Massory=class{constructor({columns:e=2,container:s=document.body,center:n=!1,width:i="100%",maxWidth:o="100%",height:a="auto",lazyLoad:r=!1}={}){this.columns=e,this.container=s,this.center=n,this.width=i,this.height=a,this.maxWidth=o,this.lazyLoad=r,t.set(this,{assigns(t,e={}){for(const[s,n]of Object.entries(e))t[s]=n;return t},element:(e,s)=>{const n=document.createElement(e);return t.get(this).assigns(n,s)},makeColumns:e=>{let s=0;const n={};for(;s<e;)n["c"+s]=t.get(this).element("div",{className:"ms-column"}),s++;return n},getSource:t=>t.hasOwnProperty("src")?t.src:t})}show(e,s=this.container){if(e.length>0){const{element:n,makeColumns:i,getSource:o}=t.get(this),a=n("div",{className:"ms"}),r=e.length,c=i(this.columns);let d=0;a.style.width=this.width,a.style.maxWidth=this.maxWidth,a.style.height=this.height,a.setAttribute("data-columns",this.columns),this.columns>=4&&a.classList.add("ms-fluid"),this.center&&(a.style.margin="auto");for(let t=0;t<r;t++){const s=n("div",{className:"ms-item"}),i=n("img",{src:this.lazyLoad?e[t].lazy:o(e[t])});this.lazyLoad&&(i.setAttribute("data-loaded",o(e[t])),i.onload=()=>{return t=i,void("IntersectionObserver"in window?new IntersectionObserver((function(t,e){const s=t[0].target;t[0].isIntersecting&&s.src!==s.getAttribute("data-loaded")&&(s.src=s.getAttribute("data-loaded"),s.addEventListener("load",(t=>{s.classList.add("loaded"),e.unobserve(t.target)})))})).observe(t):console.error("IntersectionObserver no implemented this browser"));var t}),s.appendChild(i),d==this.columns&&(d=0),c["c"+d].appendChild(s),d++}for(const t of Object.values(c))a.appendChild(t);s?s.appendChild(a):this.container.appendChild(a),console.log("%c[Masonry Layout] Nodos agregados al DOM âœ“","color: #54e346;")}}}})()})();