(()=>{"use strict";function t(t){"IntersectionObserver"in window?new IntersectionObserver((function(t,e){var n=t[0].target;t[0].isIntersecting&&n.src!==n.getAttribute("data-loaded")&&(n.src=n.getAttribute("data-loaded"),n.addEventListener("load",(function(t){n.classList.add("loaded"),e.unobserve(t.target)})))})).observe(t):console.error("IntersectionObserver no implemented this browser")}function e(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function n(t,n){return function(t,n){for(var r=0,i=Object.entries(n);r<i.length;r++){var o=(l=i[r],c=2,function(t){if(Array.isArray(t))return t}(l)||function(t,e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t)){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=t[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(t){i=!0,o=t}finally{try{r||null==s.return||s.return()}finally{if(i)throw o}}return n}}(l,c)||function(t,n){if(t){if("string"==typeof t)return e(t,n);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?e(t,n):void 0}}(l,c)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),a=o[0],s=o[1];t.setAttribute(a,s)}var l,c;return t}(document.createElement(t),n)}function r(t,e){return t.hasOwnProperty(e)}function i(t){for(var e={},r=0;r<t;r++)e[r]=n("div",{class:h});return e}function o(t){return r(t,"src")?t.src:t}function a(t){var e=t.minSize,n=t.maxSize,r=t.minRuleAt,i=void 0===r?"min-width":r,o=t.maxRuleAt,a=void 0===o?"max-width":o;return e&&n&&i&&a?window.matchMedia("(".concat(i,": ").concat(e,") and (").concat(a,": ").concat(n,")")):window.matchMedia("(".concat(a,": ").concat(n,")"))}function s(t,e){t.appendChild(e)}function l(t){return 100/t+"%"}function c(){console.log("%c[Masonry Layout] Nodes added to the DOM âœ“","color: #54e346;")}var u,d,f,h="ms-column",m="ms-item",y=[{query:"sm",media:a({maxSize:"640px"})},{query:"md",media:a({minSize:"639px",maxSize:"990px"})},{query:"lg",media:a({minSize:"989px",maxSize:"1200px"})}];function v(t,e){var n;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=function(t,e){if(t){if("string"==typeof t)return b(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?b(t,e):void 0}}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return a=t.done,t},e:function(t){s=!0,o=t},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}function b(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function g(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function p(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function w(t,e,n){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return n}window.Massory=(u=new WeakSet,d=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.columns,r=void 0===n?2:n,i=t.container,o=void 0===i?document.body:i,a=t.center,s=void 0!==a&&a,l=t.width,c=void 0===l?"100%":l,d=t.maxWidth,f=void 0===d?"100%":d,h=t.height,m=void 0===h?"auto":h,y=t.lazyLoad,v=void 0!==y&&y,b=t.breakPoints,p=void 0===b?{}:b,w=t.margin;g(this,e),u.add(this),this.columns=r,this.container=o,this.center=s,this.width=c,this.height=m,this.maxWidth=f,this.lazyLoad=v,this.margin=w,this.breakPoints=p}var r,a;return r=e,(a=[{key:"show",value:function(e){var r=this,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.container;if(e.length>0){var l=n("div",{class:"ms"});this.containerGrid=l;var d=e.length,h=i(this.columns),y=0;l.style.width=this.width,l.style.maxWidth=this.maxWidth,l.style.height=this.height,this.columns>=4&&l.classList.add("ms-fluid"),this.center&&(l.style.marginLeft="auto",l.style.marginRight="auto");for(var v=function(i){var a=n("div",{class:m}),l=n("img",{src:r.lazyLoad?e[i].lazy:o(e[i])});r.lazyLoad&&(l.setAttribute("data-loaded",o(e[i])),l.onload=function(){return t(l)}),r.margin&&(a.style.margin=r.margin),s(a,l),y==r.columns&&(y=0),s(h[y],a),y++},b=0;b<d;b++)v(b);for(var g=0,p=Object.values(h);g<p.length;g++){var x=p[g];s(l,x)}s(a||this.container,l),w(this,u,f).call(this,a),c()}}}])&&p(r.prototype,a),e}(),f=function(t){var e,n=this;if(Object.keys(this.breakPoints).length){var i=(e=this.breakPoints,function(t){return r(e,t)}),o=t.querySelector(".ms"),a=t.querySelectorAll(".ms > .ms-column");window.addEventListener("resize",(function(){var t,e=v(y);try{for(e.s();!(t=e.n()).done;){var r=t.value,s=r.media,c=r.query;if(console.log(c,"=",s.matches),s.matches&&i(c)){o.style.flexWrap="wrap";var u,d=v(a);try{for(d.s();!(u=d.n()).done;){var f=u.value;f.style.flex="0 1",f.style.flexBasis=l(n.breakPoints[c].columns)}}catch(t){d.e(t)}finally{d.f()}}else{var h,m=v(a);try{for(m.s();!(h=m.n()).done;){var b=h.value;b.style.flexBasis=0,b.style.flex="1 1"}}catch(t){m.e(t)}finally{m.f()}o.style.flexWrap="nowrap"}}}catch(t){e.e(t)}finally{e.f()}}))}},d)})();